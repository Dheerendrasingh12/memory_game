{"ast":null,"code":"import _objectSpread from\"/Users/sonu/Documents/Project/ReactJS/memory_game/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import Data from\"./Data\";import Card from\"./Card\";import Modal from\"./Modal\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function GameBoard(){const[cardsArray,setCardsArray]=useState([]);const[moves,setMoves]=useState(0);const[firstCard,setFirstCard]=useState(null);const[secondCard,setSecondCard]=useState(null);const[won,setWon]=useState(0);const[stopFlip,setStopFlip]=useState(false);function NewGame(){setTimeout(()=>{const randomOrderArray=Data.sort(()=>0.5-Math.random());setCardsArray(randomOrderArray);setMoves(0);setFirstCard(null);setSecondCard(null);setWon(0);},1200);}function handleSelectedCards(item){console.log(typeof item);if(firstCard!==null&&firstCard.id!==item.id){setSecondCard(item);}else{setFirstCard(item);}}useEffect(()=>{if(firstCard&&secondCard){setStopFlip(true);if(firstCard.name===secondCard.name){setCardsArray(preArray=>{return preArray.map(unit=>{if(unit.name===firstCard.name){return _objectSpread(_objectSpread({},unit),{},{matched:true});}else{return unit;}});});setWon(preVal=>preVal+1);removeSelection();}else{setTimeout(()=>{removeSelection();},1000);}}},[firstCard,secondCard]);function removeSelection(){setFirstCard(null);setSecondCard(null);setStopFlip(false);setMoves(preValue=>preValue+1);}useEffect(()=>{NewGame();},[]);const closeModalFunction=()=>{NewGame();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Ansh Memory Game\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"board\",children:cardsArray.map(item=>/*#__PURE__*/_jsx(Card,{item:item,handleSelectedCards:handleSelectedCards,toggled:item===firstCard||item===secondCard||item.matched===true,stopFlip:stopFlip},item.id))}),won!==6?/*#__PURE__*/_jsxs(\"div\",{className:\"comments\",children:[\"Moves:\",moves,\" \"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"comments\",children:[\" \",/*#__PURE__*/_jsx(Modal,{message:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Congratulations! You won in \",moves,\" moves!\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Please subscribe to\",\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.youtube.com/@Teachoreal\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Ansh's YouTube channel\"}),\".\"]})]}),onClose:NewGame}),\" \"]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:NewGame,children:\"New Game\"})]});}export default GameBoard;","map":{"version":3,"names":["useEffect","useState","Data","Card","Modal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GameBoard","cardsArray","setCardsArray","moves","setMoves","firstCard","setFirstCard","secondCard","setSecondCard","won","setWon","stopFlip","setStopFlip","NewGame","setTimeout","randomOrderArray","sort","Math","random","handleSelectedCards","item","console","log","id","name","preArray","map","unit","_objectSpread","matched","preVal","removeSelection","preValue","closeModalFunction","className","children","toggled","message","href","target","rel","onClose","onClick"],"sources":["/Users/sonu/Documents/Project/ReactJS/memory_game/src/component/GameBoard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Data from \"./Data\";\nimport Card from \"./Card\";\nimport Modal from \"./Modal\";\n\nfunction GameBoard() {\n  const [cardsArray, setCardsArray] = useState([]);\n  const [moves, setMoves] = useState(0);\n  const [firstCard, setFirstCard] = useState(null);\n  const [secondCard, setSecondCard] = useState(null);\n  const [won, setWon] = useState(0);\n  const [stopFlip, setStopFlip] = useState(false);\n\n  function NewGame() {\n    setTimeout(() => {\n      const randomOrderArray = Data.sort(() => 0.5 - Math.random());\n      setCardsArray(randomOrderArray);\n      setMoves(0);\n      setFirstCard(null);\n      setSecondCard(null);\n      setWon(0);\n    }, 1200);\n  }\n\n  function handleSelectedCards(item) {\n    console.log(typeof item);\n    if (firstCard !== null && firstCard.id !== item.id) {\n      setSecondCard(item);\n    } else {\n      setFirstCard(item);\n    }\n  }\n\n  useEffect(() => {\n    if (firstCard && secondCard) {\n      setStopFlip(true);\n      if (firstCard.name === secondCard.name) {\n        setCardsArray((preArray) => {\n          return preArray.map((unit) => {\n            if (unit.name === firstCard.name) {\n              return { ...unit, matched: true };\n            } else {\n              return unit;\n            }\n          });\n        });\n        setWon((preVal) => preVal + 1);\n        removeSelection();\n      } else {\n        setTimeout(() => {\n          removeSelection();\n        }, 1000);\n      }\n    }\n  }, [firstCard, secondCard]);\n\n  function removeSelection() {\n    setFirstCard(null);\n    setSecondCard(null);\n    setStopFlip(false);\n    setMoves((preValue) => preValue + 1);\n  }\n\n  useEffect(() => {\n    NewGame();\n  }, []);\n  const closeModalFunction = () => {\n    NewGame();\n  };\n  return (\n    <div className=\"container\">\n      <div className=\"header\">\n        <h1>Ansh Memory Game</h1>\n      </div>\n      <div className=\"board\">\n        {cardsArray.map((item) => (\n          <Card\n            item={item}\n            key={item.id}\n            handleSelectedCards={handleSelectedCards}\n            toggled={\n              item === firstCard || item === secondCard || item.matched === true\n            }\n            stopFlip={stopFlip}\n          />\n        ))}\n      </div>\n      {won !== 6 ? (\n        <div className=\"comments\">Moves:{moves} </div>\n      ) : (\n        <div className=\"comments\">\n          {\" \"}\n          <Modal\n            message={\n              <>\n                <p>Congratulations! You won in {moves} moves!</p>\n                <p>\n                  Please subscribe to{\" \"}\n                  <a\n                    href=\"https://www.youtube.com/@Teachoreal\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    Ansh's YouTube channel\n                  </a>\n                  .\n                </p>\n              </>\n            }\n            onClose={NewGame}\n          ></Modal>{\" \"}\n        </div>\n      )}\n      <button className=\"button\" onClick={NewGame}>\n        New Game\n      </button>\n    </div>\n  );\n}\n\nexport default GameBoard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}